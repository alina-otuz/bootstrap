<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sign Up</title>
  <style>
    :root {
      --f1-red: #d62828;
      --f1-dark: #0b2340;
      --f1-muted: #55677a;
      --f1-card-bg: #f4f7fb;
    }

    body {
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
      color: var(--f1-dark);
      margin: 0;
      background: white;
    }

    .container { max-width: 980px; margin: 0 auto; padding: 0 16px; }
    .header-grid { display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px 0; }

    .navbar-custom {
      background: linear-gradient(90deg, #ffffff, #fbfdff);
      border-bottom: 1px solid #eef2f5;
    }

    .navbar-brand { font-size: 1.25rem; color: var(--f1-dark); margin:0; }
    .clock { font-weight:700; color:var(--f1-dark); }

    .hero-title { color: var(--f1-red); margin: 8px 0; }

    .btn-f1-primary {
      background-color: var(--f1-red);
      border: 0;
      color: white;
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
    }
    .btn-f1-primary:hover { opacity: 0.95; }

    .form-custom { border: 1px solid var(--f1-red); padding: 30px; border-radius: 10 px; background: white; box-shadow: 0 2px 8px rgba(0,0,0,0.06); }
    .form-control { display:block; width:100%; padding:10 px; margin:6px 0 12px 0; border:1px solid #ccd6e0; border-radius:5px; }

    .error { color: var(--f1-red); font-size: 0.9rem; min-height:1.2em; }
    .text-muted-custom { color: var(--f1-muted); }

    footer { background: var(--f1-card-bg); border-top: 1px solid #eef2f5; color: var(--f1-muted); padding:12px 0; margin-top:24px; }

    @media (max-width:600px){ .header-grid{flex-direction:column; align-items:flex-start;} }
  </style>
</head>
<body>
  <header class="navbar-custom">
    <div class="container header-grid">
      <div>
        <h1 class="navbar-brand">Sport World</h1>
      </div>
      <div class="clock" id="pageClock" aria-live="polite">--:--:--</div>
    </div>
  </header>

  <main class="container" style="padding:24px 0;">
    <section style="margin-bottom:24px;">
      <h2 class="hero-title">Change Background Color</h2>
      <p>Click the button to change the page background color (cycles through preset colors) or pick a random color.</p>
      <div style="margin-top:8px;">
        <button id="changeColorBtn" class="btn-f1-primary">Change background</button>
        <button id="randomColorBtn" class="btn-f1-primary" style="margin-left:8px">Random color</button>
      </div>
    </section>

    <section>
      <h2 class="hero-title">Sign Up Form</h2>
      <form id="myForm" novalidate>
        <div class="form-custom">
          <label for="username">Username *</label>
          <input type="text" id="username" name="username" required class="form-control" aria-describedby="usernameError">
          <div class="error" id="usernameError" aria-live="polite"></div>

          <label for="email">Email *</label>
          <input type="email" id="email" name="email" required class="form-control" aria-describedby="emailError">
          <div class="error" id="emailError" aria-live="polite"></div>

          <label for="password">Password * (min 6 chars)</label>
          <input type="password" id="password" name="password" required minlength="6" class="form-control" aria-describedby="passwordError">
          <div class="error" id="passwordError" aria-live="polite"></div>

          <label for="confirmPassword">Confirm Password *</label>
          <input type="password" id="confirmPassword" name="confirmPassword" required class="form-control" aria-describedby="confirmPasswordError">
          <div class="error" id="confirmPasswordError" aria-live="polite"></div>

          <div style="margin-top:12px;">
            <button type="submit" class="btn-f1-primary">Submit</button>
            <button type="reset" id="resetBtn" style="margin-left:8px;">Reset</button>
          </div>
        </div>
      </form>

      <div id="formSuccess" class="text-muted-custom" style="margin-top:12px; display:none;">Form submitted successfully!</div>
    </section>
  </main>

  <footer>
    <div class="container"><p class="mb-1 fw-semibold">Alina Otuzbayeva (257034)</p>
          <p class="mb-0 fw-semibold">Zhanel Shunshalinova (242457)</p></div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Background logic
      const presetColors = ['#ffffff', '#f4f7fb', '#e8f0ff', '#fff4f6', '#f0fff4', '#fffaf0', '#fbeef0'];
      let index = 0;
      const changeBtn = document.getElementById('changeColorBtn');
      const randomBtn = document.getElementById('randomColorBtn');

      function applyBackground(color) {
        if (!color) return;
        document.body.style.backgroundColor = color;
        const dark = isDarkColor(color);
        // set text color for contrast; if dark background, use light text
        document.body.style.color = dark ? '#ffffff' : 'var(--f1-dark)';
      }

      function isDarkColor(hex) {
        if (typeof hex !== 'string') return false;
        const c = hex.replace('#', '');
        if (c.length !== 6) return false;
        const r = parseInt(c.substring(0,2),16);
        const g = parseInt(c.substring(2,4),16);
        const b = parseInt(c.substring(4,6),16);
        const luminance = 0.299 * r + 0.587 * g + 0.114 * b;
        return luminance < 150;
      }

      if (changeBtn) {
        changeBtn.addEventListener('click', function () {
          index = (index + 1) % presetColors.length;
          applyBackground(presetColors[index]);
        });
      }

      if (randomBtn) {
        randomBtn.addEventListener('click', function () {
          const rand = '#' + Math.floor(Math.random() * 16777215).toString(16).padStart(6, '0');
          applyBackground(rand);
        });
      }

      // Clock
      const clockEl = document.getElementById('pageClock');
      function updateClock() {
        const now = new Date();
        const hh = String(now.getHours()).padStart(2, '0');
        const mm = String(now.getMinutes()).padStart(2, '0');
        const ss = String(now.getSeconds()).padStart(2, '0');
        if (clockEl) clockEl.textContent = hh + ':' + mm + ':' + ss;
      }
      updateClock();
      setInterval(updateClock, 1000);

      // Form validation
      const form = document.getElementById('myForm');
      const username = document.getElementById('username');
      const email = document.getElementById('email');
      const password = document.getElementById('password');
      const confirmPassword = document.getElementById('confirmPassword');

      const usernameError = document.getElementById('usernameError');
      const emailError = document.getElementById('emailError');
      const passwordError = document.getElementById('passwordError');
      const confirmPasswordError = document.getElementById('confirmPasswordError');
      const formSuccess = document.getElementById('formSuccess');

      function clearErrors() {
        [usernameError, emailError, passwordError, confirmPasswordError].forEach(e => { if (e) e.textContent = ''; });
        if (formSuccess) formSuccess.style.display = 'none';
      }

      function validateEmail(value) {
        const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return re.test(value);
      }

      if (form) {
        form.addEventListener('submit', function (ev) {
          ev.preventDefault();
          clearErrors();
          let valid = true;

          if (!username || username.value.trim() === '') {
            if (usernameError) usernameError.textContent = 'Username is required.';
            valid = false;
          }

          if (!email || email.value.trim() === '') {
            if (emailError) emailError.textContent = 'Email is required.';
            valid = false;
          } else if (!validateEmail(email.value)) {
            if (emailError) emailError.textContent = 'Invalid email format.';
            valid = false;
          }

          if (!password || password.value.trim() === '') {
            if (passwordError) passwordError.textContent = 'Password is required.';
            valid = false;
          } else if (password.value.length < 6) {
            if (passwordError) passwordError.textContent = 'Password must be at least 6 characters.';
            valid = false;
          }

          if (!confirmPassword || confirmPassword.value.trim() === '') {
            if (confirmPasswordError) confirmPasswordError.textContent = 'Please confirm your password.';
            valid = false;
          } else if (password && password.value !== confirmPassword.value) {
            if (confirmPasswordError) confirmPasswordError.textContent = 'Passwords do not match.';
            valid = false;
          }

          if (valid) {
            if (formSuccess) {
              formSuccess.style.display = 'block';
              formSuccess.textContent = 'Successful';
            }
            // In real app: send data to server here
          }
        });
      }

      // Clear errors on reset
      const resetBtn = document.getElementById('resetBtn');
      if (resetBtn) {
        resetBtn.addEventListener('click', function () {
          // small timeout to allow native reset to run first
          setTimeout(clearErrors, 0);
        });
      }
    });
  </script>
</body>
</html>
